<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>ombra tools — fast, private, beautiful</title>
  <meta name="description" content="A clean collection of fast, private, ad‑free tools: image convert, resize, PDF to text, text to PDF, QR code, password generator, and more." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="/assets/styles/base.css?v=4" />
  <link rel="manifest" href="/manifest.json" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
</head>
<body>
  <div class="bg-layer bg-gradient"></div>
  <div class="bg-layer bg-mesh"></div>
  <div class="bg-animation" id="bgAnimation"></div>

  <nav class="nav">
    <div class="nav-inner">
      <a href="/" class="logo">ombra</a>
      <div class="nav-links"></div>
      <div class="nav-actions">
        <div class="nav-search collapsed" id="navSearch">
          <span class="nav-search-icon">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 14L11.5 11.5L14 14ZM12.5 7C12.5 10.6 9.6 12.5 7 12.5C4.4 12.5 1.5 9.6 1.5 7C1.5 4.4 4.4 1.5 7 1.5C9.6 1.5 12.5 4.4 12.5 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <input type="search" placeholder="Search tools" aria-label="Search tools" autocomplete="off" />
          <div class="nav-results" id="navResults" aria-live="polite"></div>
        </div>
        <div class="offline-indicator" id="offlineIndicator" style="display: none;">
          <span class="offline-dot"></span>
          <span class="offline-text">Offline</span>
        </div>
        <button id="refreshBtn" class="refresh-btn" title="Force refresh for updates" style="display: none;">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3z" stroke="currentColor" stroke-width="1.2" fill="none"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <div class="container homepage-return">
    <section class="hero homepage-return">
      <h1 class="hero-title">
        <span class="typing-text" id="typingText"></span><span class="typing-cursor"></span>
      </h1>
      <p class="hero-subtitle">Fast, private, and free. No ads, no tracking, no nonsense.</p>
      <div class="hero-actions">
        <a class="btn-primary" href="#tools">Explore tools</a>
      </div>
      <div class="scroll-indicator">
        <div class="scroll-dot"></div>
        <span>Discover tools below</span>
        <div class="scroll-arrow">↓</div>
      </div>
    </section>

      <div class="content-section" id="tools">
      <h3 class="tools-heading">Images & PDFs</h3>
      <div class="cards-grid reveal visible">
        <a class="glass-card tilt-card" data-tags="images convert" href="/tools/image-converter.html">
          <div class="card-icon">🖼️</div>
          <div class="card-title">Image Converter</div>
          <div class="card-description">Convert between JPG, PNG, WEBP formats with quality control. No upload needed.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="images compress" href="/tools/image-resizer.html">
          <div class="card-icon">📐</div>
          <div class="card-title">Image Resizer</div>
          <div class="card-description">Resize and compress images while maintaining quality and aspect ratio.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="pdf text" href="/tools/pdf-to-text.html">
          <div class="card-icon">📄</div>
          <div class="card-title">PDF to Text</div>
          <div class="card-description">Extract text from PDFs locally using your device's processing power.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="pdf text" href="/tools/text-to-pdf.html">
          <div class="card-icon">📝</div>
          <div class="card-title">Text to PDF</div>
          <div class="card-description">Convert your notes and text into clean, printable PDF documents.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="pdf" href="/tools/pdf-merge.html">
          <div class="card-icon">📎</div>
          <div class="card-title">PDF Merger</div>
          <div class="card-description">Combine multiple PDFs into one. Fast and private, runs in your browser.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="images pdf convert" href="/tools/image-to-pdf.html">
          <div class="card-icon">🖼️</div>
          <div class="card-title">Image to PDF</div>
          <div class="card-description">Turn images into a single PDF. Choose page size and fit options.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="images convert" href="/tools/heic-to-jpg.html">
          <div class="card-icon">📱</div>
          <div class="card-title">HEIC to JPG</div>
          <div class="card-description">Convert iPhone HEIC photos to JPG or PNG instantly, offline.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="compress" href="/tools/file-compressor.html">
          <div class="card-icon">🗜️</div>
          <div class="card-title">File Compressor</div>
          <div class="card-description">Compress images, documents, and files to reduce size while maintaining quality.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/color-converter.html">
          <div class="card-icon">🎨</div>
          <div class="card-title">Color Converter</div>
          <div class="card-description">Convert between HEX, RGB, HSL, CMYK, and HSV color formats instantly.</div>
        </a>
      </div>



      <h3 class="tools-heading">Text & Data</h3>
      <div class="cards-grid reveal visible">
        <a class="glass-card tilt-card" data-tags="qr" href="/tools/qr.html">
          <div class="card-icon">🔗</div>
          <div class="card-title">QR Code Generator</div>
          <div class="card-description">Create QR codes from any text or URL. Download as high-quality PNG.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="images" href="/tools/color-picker.html">
          <div class="card-icon">🎨</div>
          <div class="card-title">Color Picker</div>
          <div class="card-description">Pick colors from images, generate palettes, and convert between formats.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="text" href="/tools/text-case.html">
          <div class="card-icon">📝</div>
          <div class="card-title">Text Case Converter</div>
          <div class="card-description">Convert text between UPPERCASE, lowercase, Title Case, and more formats.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="data" href="/tools/json-formatter.html">
          <div class="card-icon">⚡</div>
          <div class="card-title">JSON Formatter</div>
          <div class="card-description">Format, validate, and beautify JSON data with syntax highlighting.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="encode data" href="/tools/base64.html">
          <div class="card-icon">🧬</div>
          <div class="card-title">Base64 Encoder/Decoder</div>
          <div class="card-description">Encode and decode text or files to/from Base64 locally.</div>
        </a>

        <a class="glass-card tilt-card" data-tags="text" href="/tools/markdown.html">
          <div class="card-icon">📖</div>
          <div class="card-title">Markdown Editor</div>
          <div class="card-description">Write and preview Markdown with live rendering and export options.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="text" href="/tools/notepad.html">
          <div class="card-icon">📝</div>
          <div class="card-title">Smart Notepad</div>
          <div class="card-description">Rich text editor with auto-save, formatting, and export to multiple formats.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="text utility" href="/tools/text-diff.html">
          <div class="card-icon">🧩</div>
          <div class="card-title">Text Diff</div>
          <div class="card-description">Compare two texts and highlight insertions and deletions.</div>
        </a>
                                <a class="glass-card tilt-card" data-tags="data utility" href="/tools/json-to-csv.html">
          <div class="card-icon">🔄</div>
          <div class="card-title">Data Converter</div>
          <div class="card-description">Convert between JSON and CSV formats with advanced options and flattening.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="text utility" href="/tools/text-statistics.html">
          <div class="card-icon">📈</div>
          <div class="card-title">Text Statistics</div>
          <div class="card-description">Analyze text for word count, reading time, frequency analysis, and insights.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="text utility" href="/tools/lorem-ipsum.html">
          <div class="card-icon">📝</div>
          <div class="card-title">Lorem Ipsum Generator</div>
          <div class="card-description">Generate placeholder text in various styles: Lorem Ipsum, Hipster, Bacon, and more.</div>
        </a>
      </div>

      <h3 class="tools-heading">Utilities</h3>
      <div class="cards-grid reveal visible">
        <a class="glass-card tilt-card" data-tags="qr utility" href="/tools/qr-scanner.html">
          <div class="card-icon">📷</div>
          <div class="card-title">QR Scanner</div>
          <div class="card-description">Scan QR codes using your camera. No uploads or tracking.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="convert utility" href="/tools/unit-converter.html">
          <div class="card-icon">📊</div>
          <div class="card-title">Unit Converter</div>
          <div class="card-description">Convert between length, weight, temperature, and other units instantly.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="encode utility" href="/tools/url-encoder.html">
          <div class="card-icon">🔗</div>
          <div class="card-title">URL Encoder/Decoder</div>
          <div class="card-description">Encode and decode URLs, handle special characters and Unicode.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/calculator.html">
          <div class="card-icon">🧮</div>
          <div class="card-title">Advanced Calculator</div>
          <div class="card-description">Scientific calculator with history, memory functions, and unit conversions.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/stopwatch.html">
          <div class="card-icon">⏱️</div>
          <div class="card-title">Stopwatch & Timer</div>
          <div class="card-description">Precise stopwatch, countdown timer, and lap time tracking.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="convert utility" href="/tools/currency-converter.html">
          <div class="card-icon">💱</div>
          <div class="card-title">Currency Converter</div>
          <div class="card-description">Real-time currency conversion with live exchange rates and historical data.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/emoji-picker.html">
          <div class="card-icon">😊</div>
          <div class="card-title">Emoji Picker</div>
          <div class="card-description">Browse, search, and copy emojis with categories and favorites.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/hash-generator.html">
          <div class="card-icon">🔒</div>
          <div class="card-title">Hash Generator</div>
          <div class="card-description">Generate MD5, SHA-1, SHA-256, SHA-512, and SHA3 hashes for text and files.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/number-converter.html">
          <div class="card-icon">🔢</div>
          <div class="card-title">Number Base Converter</div>
          <div class="card-description">Convert numbers between binary, octal, decimal, and hexadecimal bases.</div>
        </a>
      </div>

      <h3 class="tools-heading">IT & Network Tools</h3>
      <div class="cards-grid reveal visible">
        <a class="glass-card tilt-card" data-tags="network utility" href="/tools/ip-calculator.html">
          <div class="card-icon">🌐</div>
          <div class="card-title">IP Calculator</div>
          <div class="card-description">Calculate subnet masks, network addresses, and host ranges for IP addresses.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="network utility" href="/tools/ip-info.html">
          <div class="card-icon">🛰️</div>
          <div class="card-title">IP Info</div>
          <div class="card-description">Detect your public IP, ISP, ASN, and approximate location. No data saved.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="network utility" href="/tools/whois-lookup.html">
          <div class="card-icon">📇</div>
          <div class="card-title">WHOIS Lookup</div>
          <div class="card-description">Query domain registration details: registrar, dates, nameservers, contacts.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="network utility" href="/tools/dns-propagation.html">
          <div class="card-icon">🛰</div>
          <div class="card-title">DNS Propagation</div>
          <div class="card-description">Check how DNS records resolve across multiple global resolvers.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="network utility" href="/tools/dns-lookup.html">
          <div class="card-icon">🔍</div>
          <div class="card-title">DNS Lookup</div>
          <div class="card-description">Query DNS records including A, AAAA, MX, TXT, NS, and more for any domain.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility data" href="/tools/unix-time.html">
          <div class="card-icon">⏰</div>
          <div class="card-title">Unix Time Converter</div>
          <div class="card-description">Convert between Unix epoch, ISO 8601, UTC and local time.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/uuid-generator.html">
          <div class="card-icon">🔑</div>
          <div class="card-title">UUID Generator</div>
          <div class="card-description">Generate secure UUIDv4 identifiers with formatting options.</div>
        </a>
        <a class="glass-card tilt-card" data-tags="utility" href="/tools/password-generator.html">
          <div class="card-icon">🔐</div>
          <div class="card-title">Password Generator</div>
          <div class="card-description">Generate secure passwords with customizable options and strength checking.</div>
        </a>
      </div>

      <section class="cta-section reveal">
        <h2 class="cta-title">Privacy by design</h2>
        <p class="cta-description">Everything runs in your browser. Your files never leave your device, and we never see your data.</p>
        <div class="button-group">
          <a class="btn-primary" href="#tools">Start using tools</a>
        </div>
      </section>
    </div>
  </div>

  <footer class="footer">
    <p>© 2025 ombra. Built with care and privacy in mind.</p>
  </footer>

  <script src="/assets/scripts/effects.js"></script>
  <script>
    const toolSearch = document.getElementById('toolSearch');
    // Simple client-side filtering of tool cards
    const filterBar = null;
    const underline = null;
    const sections = Array.from(document.querySelectorAll('#tools .cards-grid'));
    const headings = Array.from(document.querySelectorAll('#tools .tools-heading'));

    // Filters removed

    if (toolSearch) {
      toolSearch.addEventListener('input', () => {
        const q = toolSearch.value.trim().toLowerCase();
        const showAll = !q;
        sections.forEach((grid, gridIdx) => {
          const cards = Array.from(grid.querySelectorAll('.glass-card'));
          let visibleCount = 0;
          cards.forEach(card => {
            const title = card.querySelector('.card-title')?.textContent.toLowerCase() || '';
            const desc = card.querySelector('.card-description')?.textContent.toLowerCase() || '';
            const tags = (card.getAttribute('data-tags') || '').toLowerCase();
            const match = showAll || title.includes(q) || desc.includes(q) || tags.includes(q);
            card.style.display = match ? '' : 'none';
            if (match) visibleCount++;
          });
          const heading = headings[gridIdx];
          if (heading) heading.style.display = visibleCount > 0 ? '' : 'none';
          grid.style.display = visibleCount > 0 ? 'grid' : 'none';
        });
      });
    }

    // Wire up nav search to the same filter
    const navSearch = document.getElementById('navSearch');
    const navResults = document.getElementById('navResults');
    const searchInput = navSearch.querySelector('input[type="search"]');
    
    // Build an index of tools for suggestions
    const toolCards = Array.from(document.querySelectorAll('.glass-card'));
    const toolIndex = toolCards.map(card => ({
      href: card.getAttribute('href'),
      title: card.querySelector('.card-title')?.textContent || '',
      desc: card.querySelector('.card-description')?.textContent || '',
      icon: card.querySelector('.card-icon')?.textContent || '•'
    }));
    
    if (navSearch && searchInput) {
      // Expand search on click
      navSearch.addEventListener('click', (e) => {
        if (e.target === navSearch || e.target === searchInput) {
          navSearch.classList.remove('collapsed');
          navSearch.classList.add('expanded');
          searchInput.focus();
        }
      });
      
      // Collapse search on blur (when clicking outside)
      searchInput.addEventListener('blur', () => {
        if (!searchInput.value.trim()) {
          setTimeout(() => {
            navSearch.classList.remove('expanded');
            navSearch.classList.add('collapsed');
          }, 200);
        }
      });
      
      // Keep expanded if there's text
      searchInput.addEventListener('input', () => {
        const q = searchInput.value.trim();
        if (q) {
          navSearch.classList.remove('collapsed');
          navSearch.classList.add('expanded');
        }
        
        // Tool search functionality
        toolSearch && (toolSearch.value = q);
        const event = new Event('input');
        toolSearch && toolSearch.dispatchEvent(event);
        
        // Suggestions dropdown
        const query = q.toLowerCase();
        if (!navResults) return;
        if (!query) { navResults.style.display = 'none'; navResults.innerHTML=''; return; }
        const matches = toolIndex.filter(t =>
          t.title.toLowerCase().includes(query) ||
          t.desc.toLowerCase().includes(query) ||
          t.href.toLowerCase().includes(query)
        ).slice(0, 6);
        if (matches.length === 0) { navResults.style.display = 'none'; navResults.innerHTML=''; return; }
        navResults.innerHTML = matches.map(m => `
          <a class="result-item" href="${m.href}">
            <span class="icon">${m.icon}</span>
            <div style="display:flex;flex-direction:column;">
              <span class="title">${m.title}</span>
              <span class="desc">${m.desc}</span>
            </div>
          </a>
        `).join('');
        navResults.style.display = 'block';
      });
      
      // Hide on blur after a short delay to allow click
      searchInput.addEventListener('blur', () => setTimeout(() => { if (navResults) navResults.style.display = 'none'; }, 200));
      // Show again on focus if there is a query
      searchInput.addEventListener('focus', () => { if (searchInput.value.trim() && navResults) navResults.style.display = 'block'; });
    }
    
    // Animated background particles - optimized for performance
    function createParticles() {
      const container = document.getElementById('bgAnimation');
      if (!container) return;
      
      // Create only 8 particles for better performance
      for (let i = 0; i < 8; i++) {
        const particle = document.createElement('div');
        particle.className = 'floating-particle';
        
        // Simple positioning and timing
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        
        container.appendChild(particle);
      }
    }
    
    // Initialize particles when page loads
    createParticles();
    
    // Check if returning from a tool and trigger smooth return animation
    if (sessionStorage.getItem('returningFromTool')) {
      sessionStorage.removeItem('returningFromTool');
      
      // Trigger the return animation smoothly
      const returnElements = document.querySelectorAll('.homepage-return');
      returnElements.forEach(el => {
        el.style.animation = 'none';
        el.offsetHeight; // Trigger reflow
        el.style.animation = null;
      });
    }
    
    // Performance optimization: pause animations when page is not visible
    document.addEventListener('visibilitychange', () => {
      const particles = document.querySelectorAll('.floating-particle');
      const bgMesh = document.querySelector('.bg-mesh');
      
      if (document.hidden) {
        particles.forEach(p => p.style.animationPlayState = 'paused');
        if (bgMesh) bgMesh.style.animationPlayState = 'paused';
      } else {
        particles.forEach(p => p.style.animationPlayState = 'running');
        if (bgMesh) bgMesh.style.animationPlayState = 'running';
      }
    });
    
    // Service Worker Registration for offline support
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('Service Worker registered successfully:', registration.scope);
            
            // Check for updates
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  // New version available - force refresh
                  console.log('New version available, refreshing...');
                  window.location.reload();
                }
              });
            });
            
            // Handle service worker updates
            navigator.serviceWorker.addEventListener('controllerchange', () => {
              console.log('Service Worker updated, refreshing...');
              window.location.reload();
            });
          })
          .catch(error => {
            console.log('Service Worker registration failed:', error);
          });
      });
      
      // Force refresh if service worker is controlling
      if (navigator.serviceWorker.controller) {
        navigator.serviceWorker.controller.postMessage({ type: 'SKIP_WAITING' });
      }
      
      // Show refresh button in development
      const refreshBtn = document.getElementById('refreshBtn');
      if (refreshBtn) {
        refreshBtn.style.display = 'block';
        refreshBtn.addEventListener('click', () => {
          // Clear all caches and reload
          if ('caches' in window) {
            caches.keys().then(names => {
              names.forEach(name => caches.delete(name));
            });
          }
          window.location.reload(true);
        });
      }
    }
    
    // Offline/Online detection
    function updateOfflineStatus() {
      const offlineIndicator = document.getElementById('offlineIndicator');
      if (offlineIndicator) {
        if (!navigator.onLine) {
          offlineIndicator.style.display = 'flex';
        } else {
          offlineIndicator.style.display = 'none';
        }
      }
    }
    
    // Listen for online/offline events
    window.addEventListener('online', updateOfflineStatus);
    window.addEventListener('offline', updateOfflineStatus);
    
    // Check initial status
    updateOfflineStatus();
  </script>
</body>
</html>